{"remainingRequest":"/Users/hirog/Desktop/portfolio/vue_accountBook/account-book02/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hirog/Desktop/portfolio/vue_accountBook/account-book02/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hirog/Desktop/portfolio/vue_accountBook/account-book02/src/views/Home.vue","mtime":1644074151082},{"path":"/Users/hirog/Desktop/portfolio/vue_accountBook/account-book02/node_modules/babel-loader/lib/index.js","mtime":1644038724176},{"path":"/Users/hirog/Desktop/portfolio/vue_accountBook/account-book02/node_modules/cache-loader/dist/cjs.js","mtime":1644038724659},{"path":"/Users/hirog/Desktop/portfolio/vue_accountBook/account-book02/node_modules/vue-loader/lib/index.js","mtime":1644038728759}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKaW1wb3J0IEl0ZW1EaWFsb2cgZnJvbSAnLi4vY29tcG9uZW50cy9JdGVtRGlhbG9nLnZ1ZScKaW1wb3J0IERlbGV0ZURpYWxvZyBmcm9tICcuLi9jb21wb25lbnRzL0RlbGV0ZURpYWxvZy52dWUnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50czogewogICAgSXRlbURpYWxvZywKICAgIERlbGV0ZURpYWxvZywKICB9LAogIGRhdGEgKCkgewogIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKQogIGNvbnN0IHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpCiAgY29uc3QgbW9udGggPSAoJzAnICsgKHRvZGF5LmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpCgogIHJldHVybiB7CiAgICAvKiogbG9hZGluZyAqLwogICAgbG9hZGluZzogZmFsc2UsCiAgICAvKiogbW9udGggc2VsZWN0aW9uIG1lbnUgKi8KICAgIG1lbnU6IGZhbHNlLAogICAgLyoqIHNlYXJjaCBrZXkgd29yZCAqLwogICAgc2VhcmNoOiAnJywKICAgIC8qKiBzZWxlY3RlZCB5ZWFyIGFuZCBtb250aCAqLwogICAgeWVhck1vbnRoOiBgJHt5ZWFyfS0ke21vbnRofWAsCiAgICAvKiogc2hvd24gZGF0YSBhdCB0aGUgdGFibGUgKi8KICAgIHRhYmxlRGF0YTogW10KICB9Cn0sCmNvbXB1dGVkOiB7CiAgLi4ubWFwU3RhdGUoewogICAgLyoqIOWutuioiOewv+ODh+ODvOOCvyAqLwogICAgYWJEYXRhOiBzdGF0ZSA9PiBzdGF0ZS5hYkRhdGEKICB9KSwKICAvKiogdGFibGUgaGVhZGVyICovCiAgdGFibGVIZWFkZXJzICgpIHsKICAgIHJldHVybiBbCiAgICAgIHsgdGV4dDogJ2RhdGUnLCB2YWx1ZTogJ2RhdGUnLCBhbGlnbjogJ2VuZCcgfSwKICAgICAgeyB0ZXh0OiAndGl0bGUnLCB2YWx1ZTogJ3RpdGxlJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgIHsgdGV4dDogJ2NhdGFnb3J5JywgdmFsdWU6ICdjYXRlZ29yeScsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICB7IHRleHQ6ICd0YWcnLCB2YWx1ZTogJ3RhZ3MnLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgeyB0ZXh0OiAnaW5jb21lJywgdmFsdWU6ICdpbmNvbWUnLCBhbGlnbjogJ2VuZCcgfSwKICAgICAgeyB0ZXh0OiAnZXhwZW5zZScsIHZhbHVlOiAnb3V0Z28nLCBhbGlnbjogJ2VuZCcgfSwKICAgICAgeyB0ZXh0OiAnbWVtbycsIHZhbHVlOiAnbWVtbycsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICB7IHRleHQ6ICdlZGl0JywgdmFsdWU6ICdhY3Rpb25zJywgc29ydGFibGU6IGZhbHNlIH0KICAgIF0KICB9LAogIC8qKiB0YWJsZSBmb290ZXIgKi8KICBmb290ZXJQcm9wcyAoKSB7CiAgICByZXR1cm4geyBpdGVtc1BlclBhZ2VUZXh0OiAnJywgaXRlbXNQZXJQYWdlT3B0aW9uczogW10gfQogIH0KfSwKbWV0aG9kczogewogIC4uLm1hcEFjdGlvbnMoWwogICAgLyoqIOWutuioiOewv+ODh+ODvOOCv+OCkuWPluW+lyAqLwogICAgJ2ZldGNoQWJEYXRhJwogIF0pLAogIC8qKiDooajnpLrjgZXjgZvjgovjg4fjg7zjgr/jgpLmm7TmlrDjgZfjgb7jgZkgKi8KICB1cGRhdGVUYWJsZSAoKSB7CiAgICBjb25zdCB5ZWFyTW9udGggPSB0aGlzLnllYXJNb250aAogICAgY29uc3QgbGlzdCA9IHRoaXMuYWJEYXRhW3llYXJNb250aF0KICAgIGlmIChsaXN0KSB7CiAgICAgIHRoaXMudGFibGVEYXRhID0gbGlzdAogICAgfSBlbHNlIHsKICAgICAgdGhpcy5mZXRjaEFiRGF0YSh7IHllYXJNb250aCB9KQogICAgICB0aGlzLnRhYmxlRGF0YSA9IHRoaXMuYWJEYXRhW3llYXJNb250aF0KICAgIH0KICB9LAogIC8qKgogICAqIDMgZGlnaXRzIGNvbW1hIHNlcGFyYXRlZAogICAqIGlmIHRoZSBudW1iZXIgaXMgbnVsbCwgcmV0dXJuIG51bGwKICAgKi8KICBzZXBhcmF0ZSAobnVtKSB7CiAgICByZXR1cm4gbnVtICE9PSBudWxsID8gbnVtLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxkKSg/PShcZHszfSkrJCkvZywgJyQxLCcpIDogbnVsbAogIH0sCiAgLyoqIGlmIGFkZCBidXR0b24gaXMgY2xpY2tlZCAqLwogIG9uQ2xpY2tBZGQgKCkgewogICAgdGhpcy4kcmVmcy5pdGVtRGlhbG9nLm9wZW4oJ2FkZCcpCiAgfSwKICAvKiogaWYgZWRpdCBidXR0b24gaXMgY2xpY2tlZCAqLwogIG9uQ2xpY2tFZGl0IChpdGVtKSB7CiAgICB0aGlzLiRyZWZzLml0ZW1EaWFsb2cub3BlbignZWRpdCcsIGl0ZW0pCiAgfSwKICAvKiogaWYgZGVsZXRlIGJ1dHRvbiBpcyBjbGlja2VkICovCiAgb25DbGlja0RlbGV0ZSAoaXRlbSkgewogICAgdGhpcy4kcmVmcy5kZWxldGVEaWFsb2cub3BlbihpdGVtKQogIH0KfSwKY3JlYXRlZCAoKSB7CiAgdGhpcy51cGRhdGVUYWJsZSgpCn0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n  <v-card>\n      <v-card-title>\n        <!-- Select the month -->\n        <v-col cols=\"8\">\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"yearMonth\"\n            transition=\"scale-transition\"\n            offset-y\n            max-width=\"290px\"\n            min-width=\"290px\"\n          >\n            <template v-slot:activator=\"{ on }\">\n              <v-text-field\n                v-model=\"yearMonth\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                v-on=\"on\"\n                hide-details\n              />\n            </template>\n            <v-date-picker\n              v-model=\"yearMonth\"\n              type=\"month\"\n              color=\"green\"\n              locale=\"ja-jp\"\n              no-title\n              scrollable\n            >\n              <v-spacer/>\n              <v-btn text color=\"grey\" @click=\"menu = false\">Cancel</v-btn>\n              <v-btn text color=\"primary\" @click=\"onSelectMonth\">Select</v-btn>\n            </v-date-picker>\n          </v-menu>\n        </v-col>\n        <v-spacer/>\n        <!-- button to add -->\n        <v-col class=\"text-right\" cols=\"4\">\n          <v-btn dark color=\"green\" @click=\"onClickAdd\">\n            <v-icon>mdi-plus</v-icon>\n          </v-btn>\n        </v-col>\n        <!-- search form -->\n        <v-col cols=\"12\">\n          <v-text-field\n            v-model=\"search\"\n            append-icon=\"mdi-magnify\"\n            label=\"Search\"\n            single-line\n            hide-details\n          />\n        </v-col>\n      </v-card-title>\n      <!-- table -->\n      <v-data-table\n        class=\"text-no-wrap\"\n        :headers=\"tableHeaders\"\n        :items=\"tableData\"\n        :search=\"search\"\n        :footer-props=\"footerProps\"\n        :loading=\"loading\"\n        :sort-by=\"'date'\"\n        :sort-desc=\"true\"\n        :items-per-page=\"30\"\n        mobile-breakpoint=\"0\"\n      >\n        <!-- date -->\n        <template v-slot:item.date=\"{ item }\">\n          {{ 'Day ' + parseInt(item.date.slice(-2))  }}\n        </template>\n        <!-- tag -->\n        <template v-slot:item.tags=\"{ item }\">\n          <div v-if=\"item.tags\">\n            <v-chip\n              class=\"mr-2\"\n              v-for=\"(tag, i) in item.tags.split(',')\"\n              :key=\"i\"\n            >\n              {{ tag }}\n            </v-chip>\n          </div>\n        </template>\n        <!-- income -->\n        <template v-slot:item.income=\"{ item }\">\n          {{ separate(item.income) }}\n        </template>\n        <!-- tag -->\n        <template v-slot:item.outgo=\"{ item }\">\n          {{ separate(item.outgo) }}\n        </template>\n        <!-- edit -->\n        <template v-slot:item.actions=\"{}\">\n          <v-icon class=\"mr-2\">mdi-pencil</v-icon>\n          <v-icon>mdi-delete</v-icon>\n        </template>\n        <!--  -->\n        <template v-slot:item.actions=\"{ item }\">\n          <v-icon class=\"mr-2\" @click=\"onClickEdit(item)\">mdi-pencil</v-icon>\n          <v-icon>mdi-delete</v-icon>\n        </template>\n      </v-data-table>\n    </v-card>\n    <!-- editing dialog -->\n    <ItemDialog ref=\"itemDialog\"/>\n    <!-- delete dialog -->\n    <DeleteDialog ref=\"deleteDialog\"/>\n  </div>\n</template>\n<script>\n  import { mapState, mapActions } from 'vuex'\n  import ItemDialog from '../components/ItemDialog.vue'\n  import DeleteDialog from '../components/DeleteDialog.vue'\n  export default {\n    name: 'Home',\n    components: {\n      ItemDialog,\n      DeleteDialog,\n    },\n    data () {\n    const today = new Date()\n    const year = today.getFullYear()\n    const month = ('0' + (today.getMonth() + 1)).slice(-2)\n\n    return {\n      /** loading */\n      loading: false,\n      /** month selection menu */\n      menu: false,\n      /** search key word */\n      search: '',\n      /** selected year and month */\n      yearMonth: `${year}-${month}`,\n      /** shown data at the table */\n      tableData: []\n    }\n  },\n  computed: {\n    ...mapState({\n      /** 家計簿データ */\n      abData: state => state.abData\n    }),\n    /** table header */\n    tableHeaders () {\n      return [\n        { text: 'date', value: 'date', align: 'end' },\n        { text: 'title', value: 'title', sortable: false },\n        { text: 'catagory', value: 'category', sortable: false },\n        { text: 'tag', value: 'tags', sortable: false },\n        { text: 'income', value: 'income', align: 'end' },\n        { text: 'expense', value: 'outgo', align: 'end' },\n        { text: 'memo', value: 'memo', sortable: false },\n        { text: 'edit', value: 'actions', sortable: false }\n      ]\n    },\n    /** table footer */\n    footerProps () {\n      return { itemsPerPageText: '', itemsPerPageOptions: [] }\n    }\n  },\n  methods: {\n    ...mapActions([\n      /** 家計簿データを取得 */\n      'fetchAbData'\n    ]),\n    /** 表示させるデータを更新します */\n    updateTable () {\n      const yearMonth = this.yearMonth\n      const list = this.abData[yearMonth]\n      if (list) {\n        this.tableData = list\n      } else {\n        this.fetchAbData({ yearMonth })\n        this.tableData = this.abData[yearMonth]\n      }\n    },\n    /**\n     * 3 digits comma separated\n     * if the number is null, return null\n     */\n    separate (num) {\n      return num !== null ? num.toString().replace(/(\\d)(?=(\\d{3})+$)/g, '$1,') : null\n    },\n    /** if add button is clicked */\n    onClickAdd () {\n      this.$refs.itemDialog.open('add')\n    },\n    /** if edit button is clicked */\n    onClickEdit (item) {\n      this.$refs.itemDialog.open('edit', item)\n    },\n    /** if delete button is clicked */\n    onClickDelete (item) {\n      this.$refs.deleteDialog.open(item)\n    }\n  },\n  created () {\n    this.updateTable()\n  }\n  }\n</script>\n"]}]}