(function(t){function e(e){for(var n,r,s=e[0],l=e[1],c=e[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==o[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"3e4b":function(t,e,a){"use strict";a("bf50")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[t._v(" /* tool bar */ "),a("v-app-bar",{attrs:{app:"",color:"green",dark:""}},[a("v-toolbar-title",[t._v(t._s(t.appName))]),a("v-spacer"),a("v-btn",{attrs:{icon:"",to:"/"}},[a("v-icon",[t._v("mdi-file-table-outline")])],1),a("v-btn",{attrs:{icon:"",to:"/settings"}},[a("v-icon",[t._v("mdi-cog")])],1)],1),t._v(" /* main content */ "),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)},i=[],r=a("2f62"),s={name:"App",computed:Object(r["d"])({appName:function(t){return t.settings.appName}}),beforeCreate:function(){this.$store.dispatch("loadSettings")}},l=s,c=a("2877"),u=a("6544"),d=a.n(u),m=a("7496"),f=a("40dc"),g=a("8336"),v=a("a523"),p=a("132d"),h=a("f6c4"),b=a("2fa4"),y=a("2a7f"),x=Object(c["a"])(l,o,i,!1,null,null,null),k=x.exports;d()(x,{VApp:m["a"],VAppBar:f["a"],VBtn:g["a"],VContainer:v["a"],VIcon:p["a"],VMain:h["a"],VSpacer:b["a"],VToolbarTitle:y["a"]});var D=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-title",[a("v-col",{attrs:{cols:"8"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.yearMonth,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.yearMonth=e},"update:return-value":function(e){t.yearMonth=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{"prepend-icon":"mdi-calendar",readonly:"","hide-details":""},model:{value:t.yearMonth,callback:function(e){t.yearMonth=e},expression:"yearMonth"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{type:"month",color:"green",locale:"ja-jp","no-title":"",scrollable:""},model:{value:t.yearMonth,callback:function(e){t.yearMonth=e},expression:"yearMonth"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:t.onSelectMonth}},[t._v("Select")])],1)],1)],1),a("v-spacer"),a("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[a("v-btn",{attrs:{dark:"",color:"green"},on:{click:t.onClickAdd}},[a("v-icon",[t._v("mdi-plus")])],1)],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("v-data-table",{staticClass:"text-no-wrap",attrs:{headers:t.tableHeaders,items:t.tableData,search:t.search,"footer-props":t.footerProps,loading:t.loading,"sort-by":"date","sort-desc":!0,"items-per-page":30,"mobile-breakpoint":"0"},scopedSlots:t._u([{key:"item.date",fn:function(e){var a=e.item;return[t._v(" "+t._s("Day "+parseInt(a.date.slice(-2)))+" ")]}},{key:"item.tags",fn:function(e){var n=e.item;return[n.tags?a("div",t._l(n.tags.split(","),(function(e,n){return a("v-chip",{key:n,staticClass:"mr-2"},[t._v(" "+t._s(e)+" ")])})),1):t._e()]}},{key:"item.income",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.separate(a.income))+" ")]}},{key:"item.outgo",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.separate(a.outgo))+" ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.onClickEdit(n)}}},[t._v("mdi-pencil")]),a("v-icon",[t._v("mdi-delete")])]}}])})],1),a("ItemDialog",{ref:"itemDialog"}),a("DeleteDialog",{ref:"deleteDialog"})],1)},I=[],V=a("5530"),C=(a("fb6a"),a("99af"),a("ac1f"),a("5319"),a("d3b7"),a("25f0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px",eager:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.titleText))]),a("v-divider"),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({attrs:{"prepend-icon":"mdi-calendar",readonly:"","hide-details":""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{color:"green",locale:"ja-jp","day-format":function(t){return new Date(t).getDate()},"no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"grey"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("Select")])],1)],1),a("v-text-field",{attrs:{label:"title",counter:20,rules:t.titleRules},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}}),a("v-radio-group",{attrs:{row:"","hide-details":""},on:{change:t.onChangeInout},model:{value:t.inout,callback:function(e){t.inout=e},expression:"inout"}},[a("v-radio",{attrs:{label:"income",value:"income"}}),a("v-radio",{attrs:{label:"expense",value:"outgo"}})],1),a("v-select",{attrs:{label:"category",items:t.categoryItems,"hide-details":""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),a("v-select",{attrs:{label:"tag",items:t.tagItems,multiple:"",chips:"",rules:[t.tagRule]},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}}),a("v-text-field",{attrs:{label:"amount",prefix:"￥",pattern:"[0-9]*",rules:t.amountRules},model:{value:t.amount,callback:function(e){t.amount=t._n(e)},expression:"amount"}}),a("v-text-field",{attrs:{label:"memo",counter:50,rules:[t.memoRule]},model:{value:t.memo,callback:function(e){t.memo=e},expression:"memo"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"grey darken-1",text:"",disabled:t.loading},on:{click:t.onClickClose}},[t._v(" cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!t.valid,loading:t.loading},on:{click:t.onClickAction}},[t._v(" "+t._s(t.actionText)+" ")])],1)],1)],1)}),w=[],O=(a("498a"),a("8ba4"),a("a9e3"),a("a15b"),a("1276"),{name:"ItemDialog",data:function(){return{show:!1,valid:!1,menu:!1,loading:!1,actionType:"add",id:"",date:"",title:"",inout:"",category:"",tags:[],amount:0,memo:"",incomeItems:["category1","category2"],outgoItems:["category3","category4"],categoryItems:[],tagItems:["tag1","tag2"],beforeYM:"",titleRules:[function(t){return t.trim().length>0||"Title is required."},function(t){return t.length<=20||"Less than 20 characters"}],tagRule:function(t){return t.length<=5||"5 tags are maximum."},amountRules:[function(t){return t>=0||"Need to be more than 0"},function(t){return Number.isInteger(t)||"Need to be integer"}],memoRule:function(t){return t.length<=50||"Less than 50 characters"}}},computed:Object(V["a"])(Object(V["a"])({},Object(r["c"])(["incomeItems","outgoItems","tagItems"])),{},{titleText:function(){return"add"===this.actionType?"Add":"Edit"},actionText:function(){return"add"===this.actionType?"Add":"edit"}}),methods:Object(V["a"])(Object(V["a"])({},Object(r["b"])(["addAbData","updateAbData"])),{},{open:function(t,e){this.show=!0,this.actionType=t,this.resetForm(e),"edit"===t&&(this.beforeYM=e.date.slice(0,7))},onClickClose:function(){this.show=!1},onClickAction:function(){var t={date:this.date,title:this.title,category:this.category,tags:this.tags.join(","),memo:this.memo,income:null,outgo:null};t[this.inout]=this.amount||0,"add"===this.actionType?(t.id=Math.random().toString(36).slice(-8),this.addAbData({item:t})):(t.id=this.id,this.updateAbData({beforeYM:this.beforeYM,item:t})),this.show=!1},onChangeInout:function(){"income"===this.inout?this.categoryItems=this.incomeItems:this.categoryItems=this.outgoItems,this.category=this.categoryItems[0]},resetForm:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Date,a=e.getFullYear(),n=("0"+(e.getMonth()+1)).slice(-2),o=("0"+e.getDate()).slice(-2);this.id=t.id||"",this.date=t.date||"".concat(a,"-").concat(n,"-").concat(o),this.title=t.title||"",this.inout=null!=t.income?"income":"outgo","income"===this.inout?(this.categoryItems=this.incomeItems,this.amount=t.income||0):(this.categoryItems=this.outgoItems,this.amount=t.outgo||0),this.category=t.category||this.categoryItems[0],this.tags=t.tags?t.tags.split(","):[],this.memo=t.memo||"",this.$refs.form.resetValidation()}})}),j=O,S=a("b0af"),M=a("99d9"),T=a("2e4b"),A=a("169a"),R=a("ce7e"),$=a("4bd4"),N=a("e449"),P=a("67b6"),F=a("43a6"),E=a("b974"),Y=a("8654"),B=Object(c["a"])(j,C,w,!1,null,null,null),U=B.exports;d()(B,{VBtn:g["a"],VCard:S["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VDatePicker:T["a"],VDialog:A["a"],VDivider:R["a"],VForm:$["a"],VMenu:N["a"],VRadio:P["a"],VRadioGroup:F["a"],VSelect:E["a"],VSpacer:b["a"],VTextField:Y["a"]});var H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title"),a("v-card-text",{staticClass:"black--text"},[t._v(" Would you like to delete「"+t._s(t.item.title)+"」?? ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"grey",text:"",disabled:t.loading},on:{click:t.onClickClose}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"red",text:"",loading:t.loading},on:{click:t.onClickDelete}},[t._v("Delete")])],1)],1)],1)},J=[],L={name:"DeleteDialog",data:function(){return{show:!1,loading:!1,item:{}}},methods:Object(V["a"])(Object(V["a"])({},Object(r["b"])(["deleteAbData"])),{},{open:function(t){this.show=!0,this.item=t},onClickClose:function(){this.show=!1},onClickDelete:function(){this.deleteAbData({item:this.item}),this.show=!1}})},G=L,q=Object(c["a"])(G,H,J,!1,null,null,null),W=q.exports;d()(q,{VBtn:g["a"],VCard:S["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VDialog:A["a"],VSpacer:b["a"]});var z={name:"Home",components:{ItemDialog:U,DeleteDialog:W},data:function(){var t=new Date,e=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2);return{loading:!1,menu:!1,search:"",yearMonth:"".concat(e,"-").concat(a),tableData:[]}},computed:Object(V["a"])(Object(V["a"])({},Object(r["d"])({abData:function(t){return t.abData}})),{},{tableHeaders:function(){return[{text:"date",value:"date",align:"end"},{text:"title",value:"title",sortable:!1},{text:"catagory",value:"category",sortable:!1},{text:"tag",value:"tags",sortable:!1},{text:"income",value:"income",align:"end"},{text:"expense",value:"outgo",align:"end"},{text:"memo",value:"memo",sortable:!1},{text:"edit",value:"actions",sortable:!1}]},footerProps:function(){return{itemsPerPageText:"",itemsPerPageOptions:[]}}}),methods:Object(V["a"])(Object(V["a"])({},Object(r["b"])(["fetchAbData"])),{},{updateTable:function(){var t=this.yearMonth,e=this.abData[t];e?this.tableData=e:(this.fetchAbData({yearMonth:t}),this.tableData=this.abData[t])},separate:function(t){return null!==t?t.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1,"):null},onClickAdd:function(){this.$refs.itemDialog.open("add")},onClickEdit:function(t){this.$refs.itemDialog.open("edit",t)},onClickDelete:function(t){this.$refs.deleteDialog.open(t)}}),created:function(){this.updateTable()}},K=z,Q=a("cc20"),X=a("62ad"),Z=a("8fea"),tt=Object(c["a"])(K,_,I,!1,null,null,null),et=tt.exports;d()(tt,{VBtn:g["a"],VCard:S["a"],VCardTitle:M["c"],VChip:Q["a"],VCol:X["a"],VDataTable:Z["a"],VDatePicker:T["a"],VIcon:p["a"],VMenu:N["a"],VSpacer:b["a"],VTextField:Y["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-wrapper"},[a("p",[t._v("※設定はこのデバイスのみに保存されます。")]),a("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("h3",[t._v("アプリ設定")]),a("v-text-field",{attrs:{label:"アプリ名",counter:30,rules:[t.appNameRule]},model:{value:t.settings.appName,callback:function(e){t.$set(t.settings,"appName",e)},expression:"settings.appName"}}),a("v-text-field",{attrs:{label:"API URL",counter:150,rules:[t.stringRule]},model:{value:t.settings.apiUrl,callback:function(e){t.$set(t.settings,"apiUrl",e)},expression:"settings.apiUrl"}}),a("v-text-field",{attrs:{label:"Auth Token",counter:150,rules:[t.stringRule]},model:{value:t.settings.authToken,callback:function(e){t.$set(t.settings,"authToken",e)},expression:"settings.authToken"}}),a("h3",[t._v("カテゴリ／タグ設定")]),a("p",[t._v("カンマ（ , ）区切りで入力してください。")]),a("v-text-field",{attrs:{label:"収入カテゴリ",counter:150,rules:[t.stringRule].concat(t.categoryRules)},model:{value:t.settings.strIncomeItems,callback:function(e){t.$set(t.settings,"strIncomeItems",e)},expression:"settings.strIncomeItems"}}),a("v-text-field",{attrs:{label:"支出カテゴリ",counter:150,rules:[t.stringRule].concat(t.categoryRules)},model:{value:t.settings.strOutgoItems,callback:function(e){t.$set(t.settings,"strOutgoItems",e)},expression:"settings.strOutgoItems"}}),a("v-text-field",{attrs:{label:"タグ",counter:150,rules:[t.stringRule,t.tagRule]},model:{value:t.settings.strTagItems,callback:function(e){t.$set(t.settings,"strTagItems",e)},expression:"settings.strTagItems"}}),a("v-row",{staticClass:"mt-4"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!t.valid},on:{click:t.onClickSave}},[t._v("保存")])],1)],1)],1)},nt=[],ot=(a("4de4"),a("d81d"),{name:"Settings",data:function(){var t=function(t){return t.split(",").map((function(t){return t.trim()})).filter((function(t){return 0!==t.length}))},e=function(e){return t(e).reduce((function(t,e){return Math.max(t,e.length)}),0)};return{valid:!1,settings:Object(V["a"])({},this.$store.state.settings),appNameRule:function(t){return t.length<=30||"30文字以内で入力してください"},stringRule:function(t){return t.length<=150||"150文字以内で入力してください"},categoryRules:[function(e){return 0!==t(e).length||"カテゴリは1つ以上必要です"},function(t){return e(t)<=4||"各カテゴリは4文字以内で入力してください"}],tagRule:function(t){return e(t)<=4||"各タグは4文字以内で入力してください"}}},methods:{onClickSave:function(){this.$store.dispatch("saveSettings",{settings:this.settings})}}}),it=ot,rt=(a("3e4b"),a("0fd9")),st=Object(c["a"])(it,at,nt,!1,null,null,null),lt=st.exports;d()(st,{VBtn:g["a"],VForm:$["a"],VRow:rt["a"],VSpacer:b["a"],VTextField:Y["a"]}),n["a"].use(D["a"]);var ct=[{path:"/",name:"Home",component:et},{path:"/settings",name:"Settings",component:lt}],ut=new D["a"]({routes:ct}),dt=ut;a("c740"),a("a434"),a("e9c4");n["a"].use(r["a"]);var mt={settings:{appName:"GAS 家計簿",apiUrl:"",authToken:"",strIncomeItems:"給料, ボーナス, 繰越",strOutgoItems:"食費, 趣味, 交通費, 買い物, 交際費, 生活費, 住宅, 通信, 車, 税金",strTagItems:"固定費, カード"}},ft={setAbData:function(t,e){var a=e.yearMonth,n=e.list;t.abData[a]=n},addAbData:function(t,e){var a=e.item,n=a.date.slice(0,7),o=t.abData[n];o&&o.push(a)},updateAbData:function(t,e){var a=e.yearMonth,n=e.item,o=t.abData[a];if(o){var i=o.findIndex((function(t){return t.id===n.id}));o.splice(i,1,n)}},deleteAbData:function(t,e){var a=e.yearMonth,n=e.id,o=t.abData[a];if(o){var i=o.findIndex((function(t){return t.id===n}));o.splice(i,1)}},saveSettings:function(t,e){var a=e.settings;t.settings=Object(V["a"])({},a),document.title=t.settings.appName,localStorage.setItem("settings",JSON.stringify(a))},loadSettings:function(t){var e=JSON.parse(localStorage.getItem("settings"));e&&(t.settings=Object.assign(t.settings,e)),document.title=t.settings.appName}},gt={fetchAbData:function(t,e){var a=t.commit,n=e.yearMonth,o=[{id:"a34109ed",date:"".concat(n,"-01"),title:"支出サンプル",category:"買い物",tags:"タグ1",income:null,outgo:2e3,memo:"メモ"},{id:"7c8fa764",date:"".concat(n,"-02"),title:"収入サンプル",category:"給料",tags:"タグ1,タグ2",income:2e3,outgo:null,memo:"メモ"}];a("setAbData",{yearMonth:n,list:o})},addAbData:function(t,e){var a=t.commit,n=e.item;a("addAbData",{item:n})},updateAbData:function(t,e){var a=t.commit,n=e.beforeYM,o=e.item,i=o.date.slice(0,7);if(i!==n){var r=o.id;a("deleteAbData",{yearMonth:n,id:r}),a("addAbData",{item:o})}else a("updateAbData",{yearMonth:i,item:o})},deleteAbData:function(t,e){var a=t.commit,n=e.item,o=n.date.slice(0,7),i=n.id;a("deleteAbData",{yearMonth:o,id:i})},saveSettings:function(t,e){var a=t.commit,n=e.settings;a("saveSettings",{settings:n})},loadSettings:function(t){var e=t.commit;e("loadSettings")}},vt=function(t){return t.split(",").map((function(t){return t.trim()})).filter((function(t){return 0!==t.length}))},pt={incomeItems:function(t){return vt(t.settings.strIncomeItems)},outgoItems:function(t){return vt(t.settings.strOutgoItems)},tagItems:function(t){return vt(t.settings.strTagItems)}},ht=new r["a"].Store({state:mt,mutations:ft,actions:gt,getters:pt}),bt=ht,yt=a("f309");n["a"].use(yt["a"]);var xt=new yt["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:dt,store:bt,vuetify:xt,render:function(t){return t(k)}}).$mount("#app")},bf50:function(t,e,a){}});
//# sourceMappingURL=app.3137d044.js.map